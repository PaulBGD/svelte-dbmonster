function renderMainFragment(e,t){var a=document.createElement("table");a.className="table table-striped latest-data";var r=document.createElement("tbody"),n=document.createComment("#each dbs");r.appendChild(n);var d=[],o=document.createDocumentFragment();return a.appendChild(r),t.appendChild(a),{update:function(t){for(var a=t.dbs,r=0;r<a.length;r+=1){d[r]||(d[r]=renderEachBlock_0(e,o));d[r];d[r].update(t,a,a[r],r)}for(var r=a.length;r<d.length;r+=1)d[r].teardown();n.parentNode.insertBefore(o,n),d.length=a.length},teardown:function(){a.parentNode.removeChild(a),r.parentNode.removeChild(r);for(var e=0;e<d.length;e+=1)d[e].teardown();n.parentNode.removeChild(n)}}}function renderEachBlock_0(e,t){var a=document.createElement("tr"),r=document.createElement("td");r.className="dbname";var n=document.createTextNode(""),d="";r.appendChild(n),a.appendChild(r),a.appendChild(document.createTextNode("\n\n      "));var o=document.createElement("td");o.className="query-count";var l=document.createElement("span"),c=document.createTextNode(""),i="";l.appendChild(c),o.appendChild(l),a.appendChild(o),a.appendChild(document.createTextNode("\n\n      "));var p=document.createComment("#each db.lastSample.topFiveQueries");a.appendChild(p);var m=[],u=document.createDocumentFragment();return t.appendChild(a),{update:function(t,a,r,o){var r=a[o];r.dbname!==d&&(d=r.dbname,n.data=d),l.className=r.lastSample.countClassName,r.lastSample.nbQueries!==i&&(i=r.lastSample.nbQueries,c.data=i);for(var v=r.lastSample.topFiveQueries,s=0;s<v.length;s+=1){m[s]||(m[s]=renderEachBlock_1(e,u));m[s];m[s].update(t,a,r,o,v,v[s],s)}for(var s=v.length;s<m.length;s+=1)m[s].teardown();p.parentNode.insertBefore(u,p),m.length=v.length},teardown:function(){a.parentNode.removeChild(a),r.parentNode.removeChild(r),o.parentNode.removeChild(o),l.parentNode.removeChild(l);for(var e=0;e<m.length;e+=1)m[e].teardown();p.parentNode.removeChild(p)}}}function renderEachBlock_1(e,t){var a=document.createElement("td"),r=document.createTextNode(""),n="";a.appendChild(r),a.appendChild(document.createTextNode("\n          "));var d=document.createElement("div");d.className="popover left";var o=document.createElement("div");o.className="popover-content";var l=document.createTextNode(""),c="";o.appendChild(l),d.appendChild(o),d.appendChild(document.createTextNode("\n            "));var i=document.createElement("div");return i.className="arrow",d.appendChild(i),a.appendChild(d),t.appendChild(a),{update:function(e,t,d,o,i,p,m){var p=(t[o],i[m]);a.className="Query "+e.elapsedClassName,p.formatElapsed!==n&&(n=p.formatElapsed,r.data=n),p.query!==c&&(c=p.query,l.data=c)},teardown:function(){a.parentNode.removeChild(a),d.parentNode.removeChild(d),o.parentNode.removeChild(o),i.parentNode.removeChild(i)}}}function createComponent(e){function t(e,t,r){for(var n in e)if(n in t){var d=t[n],o=r[n];if(d!==o||"object"==typeof d){var l=e[n];if(l)for(var c=0;c<l.length;c+=1)l[c].call(a,d,o)}}}var a={},r={},n={immediate:Object.create(null),deferred:Object.create(null)};a.get=function(e){return r[e]},a.set=function(e){var a=r;r=Object.assign({},a,e),t(n.immediate,e,a),d.update(r),t(n.deferred,e,a)},a.observe=function(e,t,a){void 0===a&&(a={});var d=a.defer?n.deferred:n.immediate;return(d[e]||(d[e]=[])).push(t),a.init!==!1&&t(r[e]),{cancel:function(){var a=d[e].indexOf(t);~a&&d[e].splice(a,1)}}},a.teardown=function(){d.teardown(),d=null,r={}};var d=renderMainFragment(a,e.target);return a.set(e.data),a}function redraw(){perfMonitor.startProfile("view update"),table.set({dbs:ENV.generateData().toArray()}),perfMonitor.endProfile("view update"),setTimeout(redraw,ENV.timeout)}perfMonitor.startFPSMonitor(),perfMonitor.startMemMonitor(),perfMonitor.initProfiler("view update");var table=createComponent({target:document.querySelector("#body"),data:{dbs:ENV.generateData().toArray()}});redraw();
//# sourceMappingURL=bundle.js.map
